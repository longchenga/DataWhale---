# PCA学习  

__一、PCA简介：__

主成分分析(PCA)是一种统计过程，它使用正交变换将一组可能相关变量(实体，每个实体具有不同的数值)的观察值转换为一组称为主成分的线性不相关变量的值。如果有带p个变量的n个观测值，那么不同主成分的数量为min(n-1,p)。这种变换以使得第一主成分具有最大可能的方差定义(即，尽可能多地占数据中的可变性)，并且在与前面的分量正交的约束下，每个后续分量又具有最大可能的方差。结果向量(每个向量是变量的线性组合，包含 n 观察)是不相关的正交基集。主成分分析对原始变量的相对比例很敏感。

__二、PCA的提出背景:__

PCA 是一种高级的数据探索算法，可用于寻找数据中的模式，以及找到可以强调这些模式的数据变换表示。

PCA 基于以正交、线性方式将数据变换到新的表示空间。您可以认为它是以新属性（所谓的主成分）替换原始属性。这些主成分与原始属性空间中显示最大方差的方向相对应。

使用的主成分数目最多与原始属性数相同。但是，此数目经常会小得多，因为 PCA 的其中一个目标就是降维。虽然简单的数据探索算法可能足以探索单个属性或属性对，但是对于具有多个属性的多维数据，PCA 最适用。对于多维数据，简单算法无法胜任。  

如果所分析的数据集显示了强模式，那么使用 PCA 获得的新表示的维数可以大大减少，并且不会严重丢失信息。

__三、针对的问题：__

PCA是在及其学习以及信号（图像）处理等领域非常重要的算法。

从空间的角度出发，PCA目标在于找到一个投影矩阵，将数据从高维投影到低维子空间中去，同时尽可能的保留更多的信息，或者说是让信息的损失达到最小。

因此，基于PCA的特性，主成分分析主要用作探索性数据分析和预测模型的工具。它经常被用来想象种群之间的遗传距离和亲缘关系。PCA可以通过数据协方差(或相关性)矩阵的特征值分解或数据矩阵的奇异值分解来完成，通常在初始数据的归一化步骤之后。每个贡献数据的归一化包括平均居中 –从变量的测量平均值中减去每个数据值，使其经验平均值(平均值)为零–并可能标准化每个变量的方差，使其等于1;在去噪中的应用，我们可以假设一段信号中的主要成分是真实信号本身，那么我们就可以通过PCA提取出主要成分去完成去噪。

在机器学习领域中，降维也是非常有必要的，其原因如下：

（1）高维的特征由于维度灾难的影响，往往会导致过拟合，

（2）高维特征中由于维度间的相关性，往往有较多的冗余信息，会引入不必要的计算。


__四、主要思想：__

PCA的本质其实就是，对角化协方差矩阵，PCA能够将高维的数据通过线性变换投影到低维空间上去，而这个投影要遵循一个指导思想，就是：找出最能够代表原始数据的投影方法。

“最能代表原始数据”希望降维之后数据不能失真，也就是说，被PCA降掉的那些维度只能是噪声或者是冗余的数据。

1.冗余，就是去除线性相关的向量（维度），因为可以被其他向量代表，这部分信息量就是多余的。

2.噪声，就是去除较小特征值对应的特征向量。因为特征值就反映了变换之后在特征向量方向上变换的幅度，幅度越大，说明这个方向上的元素差异也就越大，换句话说，就是这个方向上的元素更加分散。

3.实际上又回到了对角化，寻找极大线性无关组，然后保留较大的特征值，去除较小的特征值，组成一个投影。

    对原始样本矩阵进行投影，得到降维之后的新样本矩阵。
    
    协方差矩阵，能同时表现不同维度之间的相关性以及各个维度上的方差。
    
    协方差矩阵度量的是维度与维度之间的关系，而非样本与样本之间。
    
4.协防差矩阵的主对角线上的元素是各个维度上的方差（也就是能量），其他元素是两两维度间的协方差（即相关性）。我们要的东西，协方差矩阵都有了，先来看看“降噪”，让保留下的不同维度间的相关性尽可能的小，也就是说让协方差矩阵中非对角线元素都基本为零。采用的方式就是--矩阵的对角化。而对角化后得到的矩阵，其对角线上是协方差矩阵的特征值。他还有两个身份：首先，它是各个维度上的新方差；其次，它是各个维度本身应该拥有的能量。通过对角化，将剩余维度之间的相关性减到最弱。这就是降噪。对角化之后的协方差矩阵，对角线上较小的新方差对应的就是那些应该去掉的维度。


__五、实现步骤:__

（1）计算样品数据的协方差矩阵

（2）求出该矩阵的特征值以及相应的正交化单位特征向量

（3）选择主成分：最终要选取m个主成分，当m个主成分的累计贡献率大于85%时，就认为能够反映原来变量的信息了，对应的m就是抽取的前m个主成分。

（4）计算主成分荷载

（5）计算主成分得分

根据主成分计算数学公式知道，任何随机变量对其作标准化的变换之后，其协方差与其相关系数是一回事，即标准化后的变量协方差矩阵就是其相关系数矩阵；另一个方面，由协方差的公式可以推得标准化后的协方差就是原变量的相关系数，亦即，标准化后的变量的协方差矩阵就是原变量的相关系数矩阵。也就是说，在标准化千户的变量的相关系数矩阵不变化。

为消除量纲的影响，将变量标准化后再计算其协方差矩阵，就是直接计算原变量的相关系数矩阵，所以主成分分析的实际常用计算步骤是：

    （1）计算相关系数矩阵
    
    （2）求出相关系数矩阵的特征值以及相应的正交化单位特征向量
    
    （3）选择主成分
    
    （4）计算主成分得分
